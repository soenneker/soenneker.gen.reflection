@page "/nullable-pattern"
@rendermode InteractiveWebAssembly

<PageTitle>Nullable Pattern Test</PageTitle>

<h1>Nullable Pattern Test</h1>

<button class="btn btn-primary" @onclick="TestNullablePattern">Test Nullable Pattern</button>

@code {
    private ExternalSourceDto? _nullableSource = new ExternalSourceDto { Id = "nullable-test" };
    private ExternalSourceDto? _nullSource = null;

    private void TestNullablePattern()
    {
        // Pattern: Adapt calls with nullable types
        var adaptedNullable = _nullableSource.Adapt<ExternalDestDto>();
        
        // Pattern: Adapt calls with null coalescing
        ExternalSourceDto adaptedWithFallback = _nullableSource ?? new ExternalSourceDto { Id = "fallback" };
        var finalResult = adaptedWithFallback.Adapt<ExternalDestDto>();
        
        // Pattern: Adapt calls in null-conditional expressions
        var nullConditionalResult = _nullableSource?.Adapt<ExternalDestDto>();
        
        // Pattern: Adapt calls with explicit null handling
        if (_nullableSource != null)
        {
            var explicitNullCheck = _nullableSource.Adapt<ExternalDestDto>();
        }
    }
}

