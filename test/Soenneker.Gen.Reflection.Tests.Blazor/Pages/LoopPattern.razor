@page "/loop-pattern"
@rendermode InteractiveWebAssembly

<PageTitle>Loop Pattern Test</PageTitle>

<h1>Loop Pattern Test</h1>

<button class="btn btn-primary" @onclick="TestLoopPattern">Test Loop Pattern</button>

@code {
    private List<ExternalProjectDto> _sourceList =
    [
        new ExternalProjectDto { Id = "loop-item-1" },

        new ExternalProjectDto { Id = "loop-item-2" },

        new ExternalProjectDto { Id = "loop-item-3" }
    ];

    private void TestLoopPattern()
    {
        var adaptedList = new List<ExternalDestDto>();
        
        // Pattern: Adapt calls in foreach loop
        foreach (ExternalProjectDto source in _sourceList)
        {
            var adapted = source.Adapt<ExternalDestDto>();
            adaptedList.Add(adapted);
        }
        
        // Pattern: Adapt calls in for loop
        for (var i = 0; i < _sourceList.Count; i++)
        {
            var adapted = _sourceList[i].Adapt<ExternalDestDto>();
            adaptedList.Add(adapted);
        }
        
        // Pattern: Adapt calls in LINQ
        List<ExternalDestDto> linqAdapted = _sourceList.Select(x => x.Adapt<ExternalDestDto>()).ToList();
    }
}

